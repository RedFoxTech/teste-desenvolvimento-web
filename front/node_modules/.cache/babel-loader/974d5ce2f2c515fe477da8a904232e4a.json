{"ast":null,"code":"var _jsxFileName = \"/Users/ccstorch/Apps/teste-desenvolvimento-web/front/src/modules/pokemons/show/ShowPokemonLoader.js\";\nimport { Spinner } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport React from 'react';\nimport { SET_POKEMON_LOADING, SET_POKEMON_SINGLE } from './pokemon.reducer';\nimport { pokemonsResource } from '../../../api/pokemons/pokemonsApi';\nimport { sd } from '../../../helpers/redux';\n\nclass ShowPokemonLoader extends React.Component {\n  componentWillMount() {\n    const {\n      id,\n      fetchData\n    } = this.props;\n    fetchData(id);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const {\n      id,\n      fetchData\n    } = nextProps;\n\n    if (id !== this.props.id) {\n      fetchData(id);\n    }\n  }\n\n  render() {\n    const {\n      isLoading,\n      children\n    } = this.props;\n    if (!!isLoading) return React.createElement(Spinner, {\n      animation: \"grow\",\n      variant: \"info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    });\n    return children;\n  }\n\n}\n\nconst mapState = state => ({\n  isLoading: state.pokemon.isLoading\n});\n\nconst mapActions = dispatch => ({\n  fetchData: id => {\n    sd(dispatch, SET_POKEMON_LOADING, true);\n    pokemonsResource.get(id).then(data => {\n      sd(dispatch, SET_POKEMON_SINGLE, data);\n    }).catch(err => {\n      sd(dispatch, SET_POKEMON_LOADING, false);\n    });\n  }\n});\n\nexport default connect(mapState, mapActions)(ShowPokemonLoader);","map":{"version":3,"sources":["/Users/ccstorch/Apps/teste-desenvolvimento-web/front/src/modules/pokemons/show/ShowPokemonLoader.js"],"names":["Spinner","connect","React","SET_POKEMON_LOADING","SET_POKEMON_SINGLE","pokemonsResource","sd","ShowPokemonLoader","Component","componentWillMount","id","fetchData","props","componentWillReceiveProps","nextProps","render","isLoading","children","mapState","state","pokemon","mapActions","dispatch","get","then","data","catch","err"],"mappings":";AAAA,SAASA,OAAT,QAAwB,iBAAxB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAASC,mBAAT,EAA8BC,kBAA9B,QAAwD,mBAAxD;AACA,SAASC,gBAAT,QAAiC,mCAAjC;AACA,SAASC,EAAT,QAAmB,wBAAnB;;AAEA,MAAMC,iBAAN,SAAgCL,KAAK,CAACM,SAAtC,CAAgD;AAC/CC,EAAAA,kBAAkB,GAAG;AACpB,UAAM;AAAEC,MAAAA,EAAF;AAAMC,MAAAA;AAAN,QAAoB,KAAKC,KAA/B;AACAD,IAAAA,SAAS,CAACD,EAAD,CAAT;AACA;;AAEDG,EAAAA,yBAAyB,CAACC,SAAD,EAAY;AACpC,UAAM;AAAEJ,MAAAA,EAAF;AAAMC,MAAAA;AAAN,QAAoBG,SAA1B;;AACA,QAAIJ,EAAE,KAAK,KAAKE,KAAL,CAAWF,EAAtB,EAA0B;AACzBC,MAAAA,SAAS,CAACD,EAAD,CAAT;AACA;AACD;;AAEDK,EAAAA,MAAM,GAAG;AACR,UAAM;AAAEC,MAAAA,SAAF;AAAaC,MAAAA;AAAb,QAA0B,KAAKL,KAArC;AACA,QAAI,CAAC,CAACI,SAAN,EAAiB,OAAO,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,MAAnB;AAA0B,MAAA,OAAO,EAAC,MAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACjB,WAAOC,QAAP;AACA;;AAjB8C;;AAoBhD,MAAMC,QAAQ,GAAGC,KAAK,KAAK;AAC1BH,EAAAA,SAAS,EAAEG,KAAK,CAACC,OAAN,CAAcJ;AADC,CAAL,CAAtB;;AAIA,MAAMK,UAAU,GAAGC,QAAQ,KAAK;AAC/BX,EAAAA,SAAS,EAAED,EAAE,IAAI;AAChBJ,IAAAA,EAAE,CAACgB,QAAD,EAAWnB,mBAAX,EAAgC,IAAhC,CAAF;AACAE,IAAAA,gBAAgB,CACdkB,GADF,CACMb,EADN,EAEEc,IAFF,CAEOC,IAAI,IAAI;AACbnB,MAAAA,EAAE,CAACgB,QAAD,EAAWlB,kBAAX,EAA+BqB,IAA/B,CAAF;AACA,KAJF,EAKEC,KALF,CAKQC,GAAG,IAAI;AACbrB,MAAAA,EAAE,CAACgB,QAAD,EAAWnB,mBAAX,EAAgC,KAAhC,CAAF;AACA,KAPF;AAQA;AAX8B,CAAL,CAA3B;;AAcA,eAAeF,OAAO,CAACiB,QAAD,EAAWG,UAAX,CAAP,CAA8Bd,iBAA9B,CAAf","sourcesContent":["import { Spinner } from 'react-bootstrap'\nimport { connect } from 'react-redux'\nimport React from 'react'\n\nimport { SET_POKEMON_LOADING, SET_POKEMON_SINGLE } from './pokemon.reducer'\nimport { pokemonsResource } from '../../../api/pokemons/pokemonsApi'\nimport { sd } from '../../../helpers/redux'\n\nclass ShowPokemonLoader extends React.Component {\n\tcomponentWillMount() {\n\t\tconst { id, fetchData } = this.props\n\t\tfetchData(id)\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tconst { id, fetchData } = nextProps\n\t\tif (id !== this.props.id) {\n\t\t\tfetchData(id)\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { isLoading, children } = this.props\n\t\tif (!!isLoading) return <Spinner animation=\"grow\" variant=\"info\" />\n\t\treturn children\n\t}\n}\n\nconst mapState = state => ({\n\tisLoading: state.pokemon.isLoading\n})\n\nconst mapActions = dispatch => ({\n\tfetchData: id => {\n\t\tsd(dispatch, SET_POKEMON_LOADING, true)\n\t\tpokemonsResource\n\t\t\t.get(id)\n\t\t\t.then(data => {\n\t\t\t\tsd(dispatch, SET_POKEMON_SINGLE, data)\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tsd(dispatch, SET_POKEMON_LOADING, false)\n\t\t\t})\n\t}\n})\n\nexport default connect(mapState, mapActions)(ShowPokemonLoader)\n"]},"metadata":{},"sourceType":"module"}